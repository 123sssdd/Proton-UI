# Input 输入框

输入框组件用于接收用户输入，提供像素风格的视觉效果和完整的表单支持。

## 像素风主题 (Pixel Themes)

Input 组件同样支持多种像素艺术主题，让表单也充满个性。

<DemoBox
  title="主题输入框"
  description="不同主题下的输入框样式"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="grid grid-cols-1 gap-6 max-w-md">
  <Input
    pixelTheme="retro-futurism"
    label="Retro Input"
    placeholder="Scanlines active..."
    decoration="scanline"
  />

<Input
  pixelTheme="neo-tokyo"
  label="Neo Tokyo"
  placeholder="Glassmorphism..."
/>

  <Input
    pixelTheme="cyber-shrine"
    label="Cyber Shrine"
    placeholder="Golden border..."
  />
</div>`}
  language="tsx"
>
  <div className="grid grid-cols-1 gap-6 max-w-md">
     <Input
      pixelTheme="retro-futurism"
      label="Retro Input"
      placeholder="Scanlines active..."
      decoration="scanline"
    />

    <Input
      pixelTheme="neo-tokyo"
      label="Neo Tokyo"
      placeholder="Glassmorphism..."
    />

    <Input
      pixelTheme="cyber-shrine"
      label="Cyber Shrine"
      placeholder="Golden border..."
    />

  </div>
</DemoBox>

<PropsTable
  data={[
    {
      name: "pixelTheme",
      type: '"retro-futurism" | "neo-tokyo" | "cyber-shrine" | "dreamy-lofi" | "vaporwave"',
      required: false,
      defaultValue: "-",
      description: "应用预设的像素艺术主题样式",
    },
    {
      name: "decoration",
      type: '"scanline" | "none"',
      required: false,
      defaultValue: "none",
      description: "应用额外的装饰效果（如扫描线）",
    },
  ]}
/>

## 基础用法

使用 `label`、`placeholder` 等属性来定义输入框的样式和行为。

<DemoBox
  title="基础输入框"
  description="通过属性面板调整输入框的样式和状态"
  showCode={true}
  showProps={true}
  propsConfig={[
    {
      name: "placeholder",
      type: "string",
      label: "占位符",
      defaultValue: "请输入内容...",
      description: "输入框的占位符文本"
    },
    {
      name: "disabled",
      type: "boolean",
      label: "禁用",
      defaultValue: false,
      description: "是否禁用输入框"
    },
    {
      name: "fullWidth",
      type: "boolean",
      label: "全宽",
      defaultValue: false,
      description: "是否占满容器宽度"
    }
  ]}
  code={`import { Input } from "@proton-ui/core";

<Input placeholder="请输入内容..." />`}
  language="tsx"
>
  <Input placeholder="请输入内容..." />
</DemoBox>

## 带标签的输入框

使用 `label` 属性为输入框添加标签，使用 `required` 属性标记必填字段。

<DemoBox
  title="带标签的输入框"
  description="标签帮助用户理解输入框的用途"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="space-y-4">
  <Input
    label="用户名"
    placeholder="请输入用户名"
  />
  <Input
    label="邮箱"
    placeholder="请输入邮箱地址"
    required
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      label="用户名"
      placeholder="请输入用户名"
    />
    <Input
      label="邮箱"
      placeholder="请输入邮箱地址"
      required
    />
  </div>
</DemoBox>

## 带图标的输入框

使用 `leftIcon` 和 `rightIcon` 属性为输入框添加图标，增强视觉表达。

<DemoBox
  title="图标输入框"
  description="图标可以帮助用户快速识别输入框的用途"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

// 搜索图标
const SearchIcon = () => (

<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
  <circle cx="7" cy="7" r="5" stroke="currentColor" strokeWidth="2" />
  <path
    d="M11 11L14 14"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
  />
</svg>
);

// 邮件图标
const MailIcon = () => (

<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
  <rect
    x="2"
    y="4"
    width="12"
    height="8"
    rx="1"
    stroke="currentColor"
    strokeWidth="2"
  />
  <path
    d="M2 5L8 9L14 5"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
  />
</svg>
);

// 关闭图标
const CloseIcon = () => (

<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path
    d="M4 4L12 12M12 4L4 12"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
  />
</svg>
);

<div className="space-y-4">
  <Input
    leftIcon={<SearchIcon />}
    placeholder="搜索..."
  />
  <Input
    leftIcon={<MailIcon />}
    placeholder="请输入邮箱地址"
  />
  <Input
    placeholder="可清除的输入框"
    rightIcon={<CloseIcon />}
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      leftIcon={
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <circle cx="7" cy="7" r="5" stroke="currentColor" strokeWidth="2" />
          <path d="M11 11L14 14" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
        </svg>
      }
      placeholder="搜索..."
    />
    <Input
      leftIcon={
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <rect x="2" y="4" width="12" height="8" rx="1" stroke="currentColor" strokeWidth="2" />
          <path d="M2 5L8 9L14 5" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
        </svg>
      }
      placeholder="请输入邮箱地址"
    />
    <Input
      placeholder="可清除的输入框"
      rightIcon={
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 4L12 12M12 4L4 12" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
        </svg>
      }
    />
  </div>
</DemoBox>

## 输入框状态

Input 组件支持多种状态，提供完整的视觉反馈。

<DemoBox
  title="状态演示"
  description="展示输入框的不同状态：正常、聚焦、错误、禁用"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="space-y-4">
  <Input
    label="正常状态"
    placeholder="请输入内容"
  />
  <Input
    label="错误状态"
    placeholder="请输入内容"
    error="此字段不能为空"
  />
  <Input
    label="禁用状态"
    placeholder="此输入框已禁用"
    disabled
  />
  <Input
    label="带辅助文本"
    placeholder="请输入内容"
    helperText="这是一段辅助说明文字"
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      label="正常状态"
      placeholder="请输入内容"
    />
    <Input
      label="错误状态"
      placeholder="请输入内容"
      error="此字段不能为空"
    />
    <Input
      label="禁用状态"
      placeholder="此输入框已禁用"
      disabled
    />
    <Input
      label="带辅助文本"
      placeholder="请输入内容"
      helperText="这是一段辅助说明文字"
    />
  </div>
</DemoBox>

<Callout type="info" title="状态优先级">
  当同时设置 `error` 和 `helperText`
  时，只会显示错误信息。错误状态具有更高的优先级。
</Callout>

## 表单验证

结合表单验证逻辑，Input 组件可以提供实时的验证反馈。

<DemoBox
  title="表单验证演示"
  description="实时验证用户输入，提供即时反馈"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";
import { useState } from "react";

function ValidationDemo() {
const [email, setEmail] = useState("");
const [password, setPassword] = useState("");
const [username, setUsername] = useState("");

// 邮箱验证
const emailError = email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)
? "请输入有效的邮箱地址"
: "";

// 密码验证
const passwordError = password && password.length < 8
? "密码长度至少为 8 个字符"
: "";

// 用户名验证
const usernameError = username && username.length < 3
? "用户名长度至少为 3 个字符"
: "";

return (

<div className="space-y-4">
<Input
label="用户名"
placeholder="请输入用户名"
value={username}
onChange={(e) => setUsername(e.target.value)}
error={usernameError}
helperText={!usernameError && username ? "用户名可用" : ""}
required
/>
<Input
label="邮箱"
type="email"
placeholder="请输入邮箱地址"
value={email}
onChange={(e) => setEmail(e.target.value)}
error={emailError}
helperText={!emailError && email ? "邮箱格式正确" : ""}
required
/>
<Input
label="密码"
type="password"
placeholder="请输入密码"
value={password}
onChange={(e) => setPassword(e.target.value)}
error={passwordError}
helperText={!passwordError && password ? "密码强度良好" : ""}
required
/>
</div>
);
}`}
language="tsx"

>

  <InputValidationDemo />
</DemoBox>

## 不同输入类型

Input 组件支持所有原生 HTML input 类型。

<DocTabs defaultTab="text">
  <DocTabPanel id="text" label="文本">
    <DemoBox
      description="标准文本输入框"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="姓名"
  type="text"
  placeholder="请输入姓名"
/>`}
      language="tsx"
    >
      <Input
        label="姓名"
        type="text"
        placeholder="请输入姓名"
      />
    </DemoBox>
  </DocTabPanel>

  <DocTabPanel id="email" label="邮箱">
    <DemoBox
      description="邮箱输入框，移动端会显示邮箱键盘"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="邮箱"
  type="email"
  placeholder="example@email.com"
/>`}
      language="tsx"
    >
      <Input
        label="邮箱"
        type="email"
        placeholder="example@email.com"
      />
    </DemoBox>
  </DocTabPanel>

  <DocTabPanel id="password" label="密码">
    <DemoBox
      description="密码输入框，输入内容会被隐藏"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="密码"
  type="password"
  placeholder="请输入密码"
/>`}
      language="tsx"
    >
      <Input
        label="密码"
        type="password"
        placeholder="请输入密码"
      />
    </DemoBox>
  </DocTabPanel>

  <DocTabPanel id="number" label="数字">
    <DemoBox
      description="数字输入框，移动端会显示数字键盘"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="年龄"
  type="number"
  placeholder="请输入年龄"
  min={0}
  max={120}
/>`}
      language="tsx"
    >
      <Input
        label="年龄"
        type="number"
        placeholder="请输入年龄"
        min={0}
        max={120}
      />
    </DemoBox>
  </DocTabPanel>

  <DocTabPanel id="tel" label="电话">
    <DemoBox
      description="电话输入框，移动端会显示电话键盘"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="电话"
  type="tel"
  placeholder="请输入电话号码"
/>`}
      language="tsx"
    >
      <Input
        label="电话"
        type="tel"
        placeholder="请输入电话号码"
      />
    </DemoBox>
  </DocTabPanel>

  <DocTabPanel id="url" label="URL">
    <DemoBox
      description="URL 输入框，移动端会显示 URL 键盘"
      showCode={true}
      code={`import { Input } from "@proton-ui/core";

<Input
  label="网站"
  type="url"
  placeholder="https://example.com"
/>`}
      language="tsx"
    >
      <Input
        label="网站"
        type="url"
        placeholder="https://example.com"
      />
    </DemoBox>
  </DocTabPanel>
</DocTabs>

## 全宽输入框

使用 `fullWidth` 属性使输入框占满容器宽度。

<DemoBox
  title="全宽输入框"
  description="适用于表单布局或需要占满容器宽度的场景"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="space-y-4">
  <Input
    label="全宽输入框"
    placeholder="占满容器宽度"
    fullWidth
  />
  <Input
    label="普通输入框"
    placeholder="默认宽度"
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      label="全宽输入框"
      placeholder="占满容器宽度"
      fullWidth
    />
    <Input
      label="普通输入框"
      placeholder="默认宽度"
    />
  </div>
</DemoBox>

## API

<PropsTable
  data={[
    {
      name: "label",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "输入框标签文本",
    },
    {
      name: "error",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "错误信息，设置后输入框会显示错误状态",
    },
    {
      name: "helperText",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "辅助文本，显示在输入框下方。当有错误信息时不显示",
    },
    {
      name: "leftIcon",
      type: "React.ReactNode",
      required: false,
      defaultValue: "-",
      description: "左侧图标，显示在输入框内部左侧",
    },
    {
      name: "rightIcon",
      type: "React.ReactNode",
      required: false,
      defaultValue: "-",
      description: "右侧图标，显示在输入框内部右侧",
    },
    {
      name: "fullWidth",
      type: "boolean",
      required: false,
      defaultValue: "false",
      description: "是否占满容器宽度",
    },
    {
      name: "disabled",
      type: "boolean",
      required: false,
      defaultValue: "false",
      description: "是否禁用输入框",
    },
    {
      name: "required",
      type: "boolean",
      required: false,
      defaultValue: "false",
      description: "是否为必填字段，会在标签后显示红色星号",
    },
    {
      name: "className",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "自定义 CSS 类名",
    },
    {
      name: "type",
      type: '"text" | "email" | "password" | "number" | "tel" | "url" | ...',
      required: false,
      defaultValue: '"text"',
      description: "输入框类型，支持所有原生 HTML input 类型",
    },
    {
      name: "placeholder",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "占位符文本",
    },
    {
      name: "value",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "输入框的值（受控组件）",
    },
    {
      name: "defaultValue",
      type: "string",
      required: false,
      defaultValue: "-",
      description: "输入框的默认值（非受控组件）",
    },
    {
      name: "onChange",
      type: "(e: React.ChangeEvent<HTMLInputElement>) => void",
      required: false,
      defaultValue: "-",
      description: "值变化时的回调函数",
    },
  ]}
/>

<Callout type="info" title="继承原生属性">
Input 组件继承了所有原生 `<input>` 元素的 HTML 属性，如 `maxLength`、`minLength`、`pattern`、`autoComplete` 等。
</Callout>

## 无障碍访问

Input 组件遵循 WAI-ARIA 规范，提供完整的无障碍访问支持。

### 键盘导航

<Callout type="tip" title="键盘操作">
  - **Tab**: 聚焦到输入框 - **Shift + Tab**: 移动到上一个可聚焦元素 - **Enter**:
  提交表单（如果输入框在表单中） - **Esc**: 清除输入（需要自定义实现）
</Callout>

### ARIA 属性

Input 组件会自动添加适当的 ARIA 属性：

- `aria-invalid`: 当 `error` 属性存在时设置为 `true`，告知屏幕阅读器输入无效
- `aria-describedby`: 关联错误信息或辅助文本，屏幕阅读器会读取这些信息
- `aria-required`: 当 `required={true}` 时设置，告知屏幕阅读器这是必填字段
- `role="alert"`: 错误信息包含此属性，确保错误信息被立即播报

### 标签关联

Input 组件会自动为输入框和标签生成唯一的 ID，并通过 `htmlFor` 和 `id` 属性建立关联。这确保：

- 点击标签时会聚焦到输入框
- 屏幕阅读器能正确播报标签和输入框的关系

<DemoBox
  title="标签关联演示"
  description="点击标签文本，输入框会获得焦点"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<Input
  label="点击这个标签试试"
  placeholder="输入框会获得焦点"
/>`}
  language="tsx"
>
  <Input
    label="点击这个标签试试"
    placeholder="输入框会获得焦点"
  />
</DemoBox>

### 焦点指示器

所有输入框都有清晰的焦点指示器（focus ring），确保键盘用户能够清楚地看到当前焦点位置。

### 错误提示

错误信息使用 `role="alert"` 和 `aria-live="polite"` 属性，确保屏幕阅读器能够及时播报错误信息。

<Callout type="success" title="无障碍访问最佳实践">
  - 始终为输入框提供有意义的 `label` 属性 - 使用 `required` 属性标记必填字段 -
  提供清晰的错误信息，说明如何修正错误 - 使用 `helperText` 提供额外的输入指导 -
  确保错误信息的颜色对比度符合 WCAG 标准 - 不要仅依赖颜色来表示错误状态
</Callout>

## 设计令牌

Input 组件使用以下 CSS 变量，可以通过主题系统进行自定义：

- `--color-bg-primary`: 输入框背景色
- `--color-bg-secondary`: 禁用状态背景色
- `--color-text-primary`: 文本颜色
- `--color-text-secondary`: 占位符和辅助文本颜色
- `--color-accent`: 聚焦状态边框颜色
- `--color-error`: 错误状态颜色

<Callout type="info" title="主题定制">
  查看 [主题系统文档](/components/theme/theme-gallery)
  了解如何自定义输入框的颜色和样式。
</Callout>

## 最佳实践

### 标签和占位符

- 始终使用 `label` 属性提供标签，不要仅依赖占位符
- 占位符应该提供输入示例，而不是替代标签
- 标签应该简洁明了，说明输入框的用途

<DemoBox
  title="标签和占位符示例"
  description="正确使用标签和占位符"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="space-y-4">
  {/* 推荐：标签 + 占位符 */}
  <Input
    label="邮箱"
    placeholder="example@email.com"
  />

{/* 不推荐：仅使用占位符 */}

  <Input
    placeholder="请输入邮箱"
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      label="邮箱"
      placeholder="example@email.com"
    />
    <Input
      placeholder="请输入邮箱"
    />
  </div>
</DemoBox>

### 错误处理

- 提供清晰、具体的错误信息
- 说明如何修正错误
- 在用户输入时实时验证，而不是等到提交表单

<Callout type="warning" title="错误信息编写">
  - ✅ 好的错误信息："邮箱格式不正确，请输入有效的邮箱地址" - ❌
  不好的错误信息："输入错误"
</Callout>

### 辅助文本

使用 `helperText` 提供额外的输入指导：

<DemoBox
  title="辅助文本示例"
  description="使用辅助文本提供输入指导"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";

<div className="space-y-4">
  <Input
    label="密码"
    type="password"
    placeholder="请输入密码"
    helperText="密码长度至少为 8 个字符，包含字母和数字"
  />
  <Input
    label="用户名"
    placeholder="请输入用户名"
    helperText="用户名只能包含字母、数字和下划线"
  />
</div>`}
  language="tsx"
>
  <div className="space-y-4">
    <Input
      label="密码"
      type="password"
      placeholder="请输入密码"
      helperText="密码长度至少为 8 个字符，包含字母和数字"
    />
    <Input
      label="用户名"
      placeholder="请输入用户名"
      helperText="用户名只能包含字母、数字和下划线"
    />
  </div>
</DemoBox>

### 表单布局

在表单中使用 `fullWidth` 属性创建一致的布局：

<DemoBox
  title="表单布局示例"
  description="使用全宽输入框创建整洁的表单"
  showCode={true}
  code={`import { Input } from "@proton-ui/core";
import { Button } from "@proton-ui/core";

<form className="space-y-4 max-w-md">
  <Input
    label="姓名"
    placeholder="请输入姓名"
    fullWidth
    required
  />
  <Input
    label="邮箱"
    type="email"
    placeholder="example@email.com"
    fullWidth
    required
  />
  <Input
    label="电话"
    type="tel"
    placeholder="请输入电话号码"
    fullWidth
  />
  <Button variant="primary" fullWidth>
    提交
  </Button>
</form>`}
  language="tsx"
>
  <form className="space-y-4 max-w-md">
    <Input
      label="姓名"
      placeholder="请输入姓名"
      fullWidth
      required
    />
    <Input
      label="邮箱"
      type="email"
      placeholder="example@email.com"
      fullWidth
      required
    />
    <Input
      label="电话"
      type="tel"
      placeholder="请输入电话号码"
      fullWidth
    />
    <Button variant="primary" fullWidth>
      提交
    </Button>
  </form>
</DemoBox>

## 相关组件

- [Button 按钮](/components/button) - 表单提交按钮
- [Card 卡片](/components/card) - 表单容器组件
- [MessageInput 消息输入框](/components/message-input) - 专门用于聊天界面的输入框
