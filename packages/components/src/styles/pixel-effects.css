/**
 * 像素特效 - 像素风UI设计系统
 * 复古像素风格的视觉效果
 */

/* ========== 基础像素特效 ========== */

/**
 * 像素完美渲染
 * 确保图像和元素在整数像素边界上渲染
 */
.pixel-perfect {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
}

/**
 * 禁用字体平滑
 * 保持像素边界清晰
 */
.no-font-smooth {
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: grayscale;
  font-smooth: never;
  text-rendering: optimizeSpeed;
}

/* ========== Scanline（扫描线）效果 ========== */

/**
 * 扫描线效果 - 基础版
 * 模拟 CRT 显示器的扫描线
 */
.scanline-effect {
  position: relative;
  overflow: hidden;
}

.scanline-effect::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(255, 255, 255, 0.1);
  animation: scanline var(--scanline-duration, 3s) linear infinite;
  pointer-events: none;
  z-index: 1000;
}

[data-theme="dark"] .scanline-effect::before {
  background: rgba(255, 255, 255, 0.15);
}

/**
 * 扫描线效果 - 快速
 */
.scanline-effect-fast {
  position: relative;
  overflow: hidden;
}

.scanline-effect-fast::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(255, 255, 255, 0.1);
  animation: scanline 1.5s linear infinite;
  pointer-events: none;
  z-index: 1000;
}

/**
 * 扫描线效果 - 慢速
 */
.scanline-effect-slow {
  position: relative;
  overflow: hidden;
}

.scanline-effect-slow::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(255, 255, 255, 0.1);
  animation: scanline 5s linear infinite;
  pointer-events: none;
  z-index: 1000;
}

/**
 * 扫描线效果 - 粗线
 */
.scanline-effect-thick {
  position: relative;
  overflow: hidden;
}

.scanline-effect-thick::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: rgba(255, 255, 255, 0.15);
  animation: scanline 3s linear infinite;
  pointer-events: none;
  z-index: 1000;
}

/**
 * 静态扫描线（横向条纹）- 基础
 */
.scanline-static {
  position: relative;
}

.scanline-static::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.05) 2px,
    rgba(0, 0, 0, 0.05) 4px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-static::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 255, 0.03) 2px,
    rgba(255, 255, 255, 0.03) 4px
  );
}

/**
 * 静态扫描线 - 密集
 */
.scanline-static-dense {
  position: relative;
}

.scanline-static-dense::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 0, 0, 0.05) 1px,
    rgba(0, 0, 0, 0.05) 2px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-static-dense::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(255, 255, 255, 0.03) 1px,
    rgba(255, 255, 255, 0.03) 2px
  );
}

/**
 * 静态扫描线 - 稀疏
 */
.scanline-static-sparse {
  position: relative;
}

.scanline-static-sparse::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 4px,
    rgba(0, 0, 0, 0.05) 4px,
    rgba(0, 0, 0, 0.05) 8px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-static-sparse::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 4px,
    rgba(255, 255, 255, 0.03) 4px,
    rgba(255, 255, 255, 0.03) 8px
  );
}

/* ========== CRT Glow（显像管光晕）效果 ========== */

/**
 * CRT 光晕效果 - 基础版
 * 模拟显像管的光晕和径向模糊
 */
.crt-glow {
  position: relative;
}

.crt-glow::after {
  content: "";
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.2) 100%
  );
  pointer-events: none;
  border-radius: inherit;
  z-index: 1;
}

[data-theme="dark"] .crt-glow::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.4) 100%
  );
}

/**
 * CRT 光晕效果 - 轻微
 * 更微妙的光晕效果
 */
.crt-glow-subtle {
  position: relative;
}

.crt-glow-subtle::after {
  content: "";
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 70%,
    rgba(0, 0, 0, 0.1) 100%
  );
  pointer-events: none;
  border-radius: inherit;
  z-index: 1;
}

[data-theme="dark"] .crt-glow-subtle::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 70%,
    rgba(0, 0, 0, 0.2) 100%
  );
}

/**
 * CRT 光晕效果 - 强烈
 * 更明显的光晕效果
 */
.crt-glow-strong {
  position: relative;
}

.crt-glow-strong::after {
  content: "";
  position: absolute;
  top: -15px;
  left: -15px;
  right: -15px;
  bottom: -15px;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.3) 100%
  );
  pointer-events: none;
  border-radius: inherit;
  z-index: 1;
}

[data-theme="dark"] .crt-glow-strong::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.6) 100%
  );
}

/**
 * CRT 曲面效果
 * 模拟显像管的曲面变形
 */
.crt-curvature {
  position: relative;
  transform: perspective(1000px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-curvature::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 0, 0, 0.05) 100%
  );
  pointer-events: none;
  z-index: 1;
}

/**
 * CRT 曲面效果 - 轻微
 */
.crt-curvature-subtle {
  position: relative;
  transform: perspective(2000px) rotateX(0deg);
  transform-style: preserve-3d;
}

/**
 * CRT 曲面效果 - 强烈
 */
.crt-curvature-strong {
  position: relative;
  transform: perspective(500px) rotateX(0deg);
  transform-style: preserve-3d;
}

/**
 * CRT 文本光晕 - 基础
 * 为文本添加发光效果
 */
.crt-glow-text {
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 15px currentColor;
}

/**
 * CRT 文本光晕 - 轻微
 */
.crt-glow-text-subtle {
  text-shadow:
    0 0 3px currentColor,
    0 0 6px currentColor;
}

/**
 * CRT 文本光晕 - 强烈
 */
.crt-glow-text-strong {
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 15px currentColor,
    0 0 20px currentColor,
    0 0 25px currentColor;
}

/**
 * CRT 开机动画
 * 模拟显像管开机效果
 */
@keyframes crt-power-on {
  0% {
    opacity: 0;
    transform: scaleY(0.001) scaleX(1);
  }
  50% {
    opacity: 1;
    transform: scaleY(0.01) scaleX(1);
  }
  80% {
    transform: scaleY(1) scaleX(1);
  }
  100% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
  }
}

.crt-power-on {
  animation: crt-power-on 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/**
 * CRT 关机动画
 * 模拟显像管关机效果
 */
@keyframes crt-power-off {
  0% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
  }
  20% {
    transform: scaleY(1) scaleX(1);
  }
  50% {
    opacity: 1;
    transform: scaleY(0.01) scaleX(1);
  }
  100% {
    opacity: 0;
    transform: scaleY(0.001) scaleX(1);
  }
}

.crt-power-off {
  animation: crt-power-off 0.5s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;
}

/**
 * CRT 色散效果
 * RGB 通道分离模拟
 */
.crt-chromatic {
  position: relative;
}

.crt-chromatic::before,
.crt-chromatic::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.3;
}

.crt-chromatic::before {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(255, 0, 0, 0.1) 100%
  );
  transform: translateX(-2px);
}

.crt-chromatic::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 255, 255, 0.1) 100%
  );
  transform: translateX(2px);
}

/* ========== CRT 效果增强 ========== */

/**
 * CRT 曲面程度可调
 */
.crt-curvature-level-1 {
  position: relative;
  transform: perspective(2000px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-curvature-level-2 {
  position: relative;
  transform: perspective(1500px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-curvature-level-3 {
  position: relative;
  transform: perspective(1000px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-curvature-level-4 {
  position: relative;
  transform: perspective(700px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-curvature-level-5 {
  position: relative;
  transform: perspective(500px) rotateX(0deg);
  transform-style: preserve-3d;
}

/**
 * 扫描线密度可调
 */
.scanline-density-low {
  position: relative;
}

.scanline-density-low::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 6px,
    rgba(0, 0, 0, 0.03) 6px,
    rgba(0, 0, 0, 0.03) 8px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-density-low::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 6px,
    rgba(255, 255, 255, 0.02) 6px,
    rgba(255, 255, 255, 0.02) 8px
  );
}

.scanline-density-medium {
  position: relative;
}

.scanline-density-medium::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 3px,
    rgba(0, 0, 0, 0.05) 3px,
    rgba(0, 0, 0, 0.05) 4px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-density-medium::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 3px,
    rgba(255, 255, 255, 0.03) 3px,
    rgba(255, 255, 255, 0.03) 4px
  );
}

.scanline-density-high {
  position: relative;
}

.scanline-density-high::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 0, 0, 0.06) 1px,
    rgba(0, 0, 0, 0.06) 2px
  );
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .scanline-density-high::after {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(255, 255, 255, 0.04) 1px,
    rgba(255, 255, 255, 0.04) 2px
  );
}

/**
 * 色散强度可调
 */
.crt-chromatic-level-1 {
  position: relative;
}

.crt-chromatic-level-1::before,
.crt-chromatic-level-1::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.15;
}

.crt-chromatic-level-1::before {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(255, 0, 0, 0.05) 100%
  );
  transform: translateX(-1px);
}

.crt-chromatic-level-1::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 255, 255, 0.05) 100%
  );
  transform: translateX(1px);
}

.crt-chromatic-level-2 {
  position: relative;
}

.crt-chromatic-level-2::before,
.crt-chromatic-level-2::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.25;
}

.crt-chromatic-level-2::before {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(255, 0, 0, 0.08) 100%
  );
  transform: translateX(-2px);
}

.crt-chromatic-level-2::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 255, 255, 0.08) 100%
  );
  transform: translateX(2px);
}

.crt-chromatic-level-3 {
  position: relative;
}

.crt-chromatic-level-3::before,
.crt-chromatic-level-3::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.35;
}

.crt-chromatic-level-3::before {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(255, 0, 0, 0.12) 100%
  );
  transform: translateX(-3px);
}

.crt-chromatic-level-3::after {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 255, 255, 0.12) 100%
  );
  transform: translateX(3px);
}

/**
 * CRT 开关机动画增强
 */
@keyframes crt-power-on-enhanced {
  0% {
    opacity: 0;
    transform: scaleY(0.001) scaleX(1);
    filter: brightness(3);
  }
  30% {
    opacity: 0.8;
    transform: scaleY(0.005) scaleX(1);
    filter: brightness(2);
  }
  60% {
    opacity: 1;
    transform: scaleY(0.5) scaleX(1);
    filter: brightness(1.5);
  }
  85% {
    transform: scaleY(1.02) scaleX(1);
    filter: brightness(1.1);
  }
  100% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
}

.crt-power-on-enhanced {
  animation: crt-power-on-enhanced 1.2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

@keyframes crt-power-off-enhanced {
  0% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
  15% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1.3);
  }
  40% {
    opacity: 1;
    transform: scaleY(0.5) scaleX(1);
    filter: brightness(2);
  }
  70% {
    opacity: 0.5;
    transform: scaleY(0.005) scaleX(1);
    filter: brightness(3);
  }
  100% {
    opacity: 0;
    transform: scaleY(0.001) scaleX(1);
    filter: brightness(5);
  }
}

.crt-power-off-enhanced {
  animation: crt-power-off-enhanced 0.8s cubic-bezier(0.55, 0.055, 0.675, 0.19)
    forwards;
}

/**
 * CRT 闪烁效果（模拟老旧显示器）
 */
@keyframes crt-flicker {
  0%,
  100% {
    opacity: 1;
    filter: brightness(1);
  }
  5% {
    opacity: 0.95;
    filter: brightness(0.95);
  }
  10% {
    opacity: 1;
    filter: brightness(1.05);
  }
  15% {
    opacity: 0.98;
    filter: brightness(0.98);
  }
  20% {
    opacity: 1;
    filter: brightness(1);
  }
  50% {
    opacity: 0.97;
    filter: brightness(0.97);
  }
}

.crt-flicker {
  animation: crt-flicker 4s ease-in-out infinite;
}

/**
 * CRT 组合效果（曲面 + 扫描线 + 色散）
 */
.crt-full-effect {
  position: relative;
  transform: perspective(1000px) rotateX(0deg);
  transform-style: preserve-3d;
}

.crt-full-effect::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.05) 2px,
    rgba(0, 0, 0, 0.05) 4px
  );
  pointer-events: none;
  z-index: 1;
}

.crt-full-effect::after {
  content: "";
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.2) 100%
  );
  pointer-events: none;
  border-radius: inherit;
  z-index: 2;
}

/* ========== 动态 Dithering（抖动渐变）========== */

/**
 * 2x2 像素矩阵渐变 - 4 种密度
 */
.dithering-2x2-25 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 6px,
      currentColor 6px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 6px,
      currentColor 6px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.25;
}

.dithering-2x2-50 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 4px,
      currentColor 4px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 4px,
      currentColor 4px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.5;
}

.dithering-2x2-75 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      currentColor 2px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 2px,
      currentColor 2px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.75;
}

.dithering-2x2-100 {
  background: currentColor;
  opacity: 1;
}

/**
 * 4x4 像素矩阵渐变 - 8 种密度
 */
.dithering-4x4-12 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 7px,
      currentColor 7px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 7px,
      currentColor 7px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.125;
}

.dithering-4x4-25 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 6px,
      currentColor 6px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 6px,
      currentColor 6px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.25;
}

.dithering-4x4-37 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 5px,
      currentColor 5px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 5px,
      currentColor 5px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.375;
}

.dithering-4x4-50 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 4px,
      currentColor 4px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 4px,
      currentColor 4px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.5;
}

.dithering-4x4-62 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 3px,
      currentColor 3px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 3px,
      currentColor 3px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.625;
}

.dithering-4x4-75 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      currentColor 2px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 2px,
      currentColor 2px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.75;
}

.dithering-4x4-87 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 1px,
      currentColor 1px,
      currentColor 8px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 1px,
      currentColor 1px,
      currentColor 8px
    );
  background-size: 8px 8px;
  opacity: 0.875;
}

.dithering-4x4-100 {
  background: currentColor;
  opacity: 1;
}

/**
 * Dithering 应用于背景渐变
 */
.dithering-bg-gradient {
  position: relative;
  background: linear-gradient(
    180deg,
    var(--color-bg-primary) 0%,
    var(--color-bg-secondary) 100%
  );
}

.dithering-bg-gradient::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: repeating-linear-gradient(
    45deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  z-index: 1;
}

/**
 * Dithering 应用于阴影过渡
 */
.dithering-shadow {
  position: relative;
}

.dithering-shadow::after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 10%;
  right: 10%;
  height: 10px;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 1px,
      rgba(0, 0, 0, 0.2) 1px,
      rgba(0, 0, 0, 0.2) 2px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 1px,
      rgba(0, 0, 0, 0.2) 1px,
      rgba(0, 0, 0, 0.2) 2px
    );
  background-size: 2px 2px;
  opacity: 0.5;
  filter: blur(2px);
  pointer-events: none;
}

/**
 * 动态 Dithering 动画
 */
@keyframes dithering-gradient-anim {
  0% {
    background-position: 0px 0px;
  }
  100% {
    background-position: 8px 8px;
  }
}

.dithering-animated {
  animation: dithering-gradient-anim 0.5s linear infinite;
}

/**
 * 像素点闪烁动画
 */
@keyframes dithering-sparkle {
  0%,
  100% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
}

.dithering-sparkle {
  animation: dithering-sparkle 1.5s ease-in-out infinite;
}

/**
 * 波浪扩散效果
 */
@keyframes dithering-wave {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

.dithering-wave {
  animation: dithering-wave 2s ease-out infinite;
}

/**
 * Dithering 渐变叠加层
 */
.dithering-overlay-gradient {
  position: relative;
}

.dithering-overlay-gradient::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    repeating-linear-gradient(
      45deg,
      transparent 0px,
      transparent 1px,
      rgba(0, 0, 0, 0.05) 1px,
      rgba(0, 0, 0, 0.05) 2px
    ),
    linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
  pointer-events: none;
  z-index: 1;
}

[data-theme="dark"] .dithering-overlay-gradient::before {
  background:
    repeating-linear-gradient(
      45deg,
      transparent 0px,
      transparent 1px,
      rgba(255, 255, 255, 0.03) 1px,
      rgba(255, 255, 255, 0.03) 2px
    ),
    linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.5) 100%);
}

/* ========== Dithering（抖动渐变）效果 ========== */

/**
 * 2x2 抖动渐变
 * 使用像素矩阵模拟渐变效果
 */
.dithering-gradient-2x2 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      var(--color-accent) 2px,
      var(--color-accent) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      var(--color-accent) 2px,
      var(--color-accent) 4px
    );
  background-size: 4px 4px;
  background-blend-mode: multiply;
}

/**
 * 4x4 抖动渐变
 * 更精细的抖动效果
 */
.dithering-gradient-4x4 {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      var(--color-accent) 1px,
      var(--color-accent) 2px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1px,
      var(--color-accent) 1px,
      var(--color-accent) 2px
    );
  background-size: 2px 2px;
  background-blend-mode: multiply;
}

/**
 * 抖动叠加层
 * 可以叠加在任何元素上
 */
.dithering-overlay {
  position: relative;
}

.dithering-overlay::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.05) 2px,
    rgba(0, 0, 0, 0.05) 4px
  );
  pointer-events: none;
  z-index: 1;
}

/* ========== Chromatic Aberration（色散）效果 ========== */

/**
 * 色散效果
 * RGB 通道偏移模拟
 */
.chromatic-aberration {
  position: relative;
}

.chromatic-aberration::before,
.chromatic-aberration::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  mix-blend-mode: screen;
  pointer-events: none;
}

.chromatic-aberration::before {
  color: #ff0000;
  transform: translate(-2px, 0);
  opacity: 0.5;
}

.chromatic-aberration::after {
  color: #00ffff;
  transform: translate(2px, 0);
  opacity: 0.5;
}

/**
 * 轻微色散效果
 * 更微妙的偏移
 */
.chromatic-aberration-subtle {
  position: relative;
}

.chromatic-aberration-subtle::before,
.chromatic-aberration-subtle::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  mix-blend-mode: screen;
  pointer-events: none;
}

.chromatic-aberration-subtle::before {
  color: #ff0000;
  transform: translate(-1px, 0);
  opacity: 0.3;
}

.chromatic-aberration-subtle::after {
  color: #00ffff;
  transform: translate(1px, 0);
  opacity: 0.3;
}

/* ========== Noise Grain（噪点）效果 ========== */

/**
 * 噪点效果
 * 添加复古的颗粒感
 */
.noise-grain {
  position: relative;
}

.noise-grain::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=");
  opacity: 0.05;
  pointer-events: none;
  animation: noise 0.2s steps(10) infinite;
  z-index: 1;
}

[data-theme="dark"] .noise-grain::before {
  opacity: 0.08;
}

/**
 * 静态噪点（无动画）
 */
.noise-grain-static {
  position: relative;
}

.noise-grain-static::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=");
  opacity: 0.05;
  pointer-events: none;
  z-index: 1;
}

/* ========== Pixel Shadow（像素阴影）效果 ========== */

/**
 * 像素阴影工具类
 * 已在 shadows.css 中定义，这里提供额外的变体
 */

/**
 * 彩色像素阴影
 */
.pixel-shadow-accent {
  box-shadow:
    2px 2px 0px var(--color-accent),
    4px 4px 0px rgba(0, 0, 0, 0.2);
}

.pixel-shadow-error {
  box-shadow:
    2px 2px 0px var(--color-error),
    4px 4px 0px rgba(0, 0, 0, 0.2);
}

.pixel-shadow-success {
  box-shadow:
    2px 2px 0px var(--color-success),
    4px 4px 0px rgba(0, 0, 0, 0.2);
}

/**
 * 内像素阴影
 */
.pixel-shadow-inset-sm {
  box-shadow: inset 2px 2px 0px rgba(0, 0, 0, 0.1);
}

.pixel-shadow-inset-md {
  box-shadow: inset 4px 4px 0px rgba(0, 0, 0, 0.15);
}

/* ========== 组合特效 ========== */

/**
 * 复古 CRT 效果组合
 * 扫描线 + 光晕 + 噪点
 */
.retro-crt {
  position: relative;
}

.retro-crt::before {
  /* 扫描线 */
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.05) 2px,
    rgba(0, 0, 0, 0.05) 4px
  );
  pointer-events: none;
  z-index: 1;
}

.retro-crt::after {
  /* 光晕 */
  content: "";
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.2) 100%
  );
  pointer-events: none;
  border-radius: inherit;
  z-index: 2;
}

/**
 * 像素艺术容器
 * 像素完美 + 禁用平滑
 */
.pixel-art-container {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: grayscale;
  font-smooth: never;
}

/* ========== 霓虹光晕效果 ========== */

/**
 * 霓虹光晕效果 - 青色（Neon Cyan）
 * 模拟霓虹灯管的发光效果
 */
.neon-glow-cyan {
  color: #4ecdc4;
  text-shadow:
    0 0 5px #4ecdc4,
    0 0 10px #4ecdc4,
    0 0 20px #4ecdc4,
    0 0 40px #00ced1,
    0 0 80px #00ced1;
}

.neon-glow-cyan-box {
  border: 2px solid #4ecdc4;
  box-shadow:
    0 0 5px #4ecdc4,
    0 0 10px #4ecdc4,
    0 0 20px #4ecdc4,
    inset 0 0 5px #4ecdc4,
    inset 0 0 10px #4ecdc4;
}

/**
 * 霓虹光晕效果 - 粉色（Sakura Pink）
 */
.neon-glow-pink {
  color: #ff6b9d;
  text-shadow:
    0 0 5px #ff6b9d,
    0 0 10px #ff6b9d,
    0 0 20px #ff6b9d,
    0 0 40px #ff1493,
    0 0 80px #ff1493;
}

.neon-glow-pink-box {
  border: 2px solid #ff6b9d;
  box-shadow:
    0 0 5px #ff6b9d,
    0 0 10px #ff6b9d,
    0 0 20px #ff6b9d,
    inset 0 0 5px #ff6b9d,
    inset 0 0 10px #ff6b9d;
}

/**
 * 霓虹光晕效果 - 紫色（Vapor Purple）
 */
.neon-glow-purple {
  color: #9d4edd;
  text-shadow:
    0 0 5px #9d4edd,
    0 0 10px #9d4edd,
    0 0 20px #9d4edd,
    0 0 40px #8b00ff,
    0 0 80px #8b00ff;
}

.neon-glow-purple-box {
  border: 2px solid #9d4edd;
  box-shadow:
    0 0 5px #9d4edd,
    0 0 10px #9d4edd,
    0 0 20px #9d4edd,
    inset 0 0 5px #9d4edd,
    inset 0 0 10px #9d4edd;
}

/**
 * 霓虹光晕效果 - 金色（Sacred Gold）
 */
.neon-glow-gold {
  color: #d4af37;
  text-shadow:
    0 0 5px #d4af37,
    0 0 10px #d4af37,
    0 0 20px #d4af37,
    0 0 40px #ffd700,
    0 0 80px #ffd700;
}

.neon-glow-gold-box {
  border: 2px solid #d4af37;
  box-shadow:
    0 0 5px #d4af37,
    0 0 10px #d4af37,
    0 0 20px #d4af37,
    inset 0 0 5px #d4af37,
    inset 0 0 10px #d4af37;
}

/**
 * 霓虹光晕效果 - 绿色（Acid Green）
 */
.neon-glow-green {
  color: #7ba05b;
  text-shadow:
    0 0 5px #7ba05b,
    0 0 10px #7ba05b,
    0 0 20px #7ba05b,
    0 0 40px #00ff00,
    0 0 80px #00ff00;
}

.neon-glow-green-box {
  border: 2px solid #7ba05b;
  box-shadow:
    0 0 5px #7ba05b,
    0 0 10px #7ba05b,
    0 0 20px #7ba05b,
    inset 0 0 5px #7ba05b,
    inset 0 0 10px #7ba05b;
}

/**
 * 霓虹光晕强度变体 - 轻微
 */
.neon-glow-subtle {
  text-shadow:
    0 0 3px currentColor,
    0 0 6px currentColor,
    0 0 12px currentColor;
}

.neon-glow-subtle-box {
  box-shadow:
    0 0 3px currentColor,
    0 0 6px currentColor,
    inset 0 0 3px currentColor;
}

/**
 * 霓虹光晕强度变体 - 中等
 */
.neon-glow-medium {
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 20px currentColor,
    0 0 30px currentColor;
}

.neon-glow-medium-box {
  box-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 15px currentColor,
    inset 0 0 5px currentColor,
    inset 0 0 10px currentColor;
}

/**
 * 霓虹光晕强度变体 - 强烈
 */
.neon-glow-strong {
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 20px currentColor,
    0 0 40px currentColor,
    0 0 80px currentColor,
    0 0 120px currentColor;
}

.neon-glow-strong-box {
  box-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 20px currentColor,
    0 0 30px currentColor,
    inset 0 0 5px currentColor,
    inset 0 0 10px currentColor,
    inset 0 0 15px currentColor;
}

/**
 * 霓虹脉冲动画
 * 模拟霓虹灯的闪烁效果
 */
@keyframes neon-pulse {
  0%,
  100% {
    opacity: 1;
    filter: brightness(1);
  }
  50% {
    opacity: 0.8;
    filter: brightness(1.2);
  }
}

.neon-pulse {
  animation: neon-pulse 2s ease-in-out infinite;
}

.neon-pulse-fast {
  animation: neon-pulse 1s ease-in-out infinite;
}

.neon-pulse-slow {
  animation: neon-pulse 3s ease-in-out infinite;
}

/**
 * 霓虹闪烁动画
 * 模拟霓虹灯的不稳定闪烁
 */
@keyframes neon-flicker {
  0%,
  19%,
  21%,
  23%,
  25%,
  54%,
  56%,
  100% {
    opacity: 1;
    filter: brightness(1);
  }
  20%,
  24%,
  55% {
    opacity: 0.4;
    filter: brightness(0.6);
  }
  22% {
    opacity: 0.7;
    filter: brightness(0.8);
  }
}

.neon-flicker {
  animation: neon-flicker 3s linear infinite;
}

.neon-flicker-fast {
  animation: neon-flicker 1.5s linear infinite;
}

.neon-flicker-slow {
  animation: neon-flicker 5s linear infinite;
}

/**
 * 霓虹呼吸动画
 * 平滑的明暗变化
 */
@keyframes neon-breathe {
  0%,
  100% {
    opacity: 0.8;
    filter: brightness(0.9);
  }
  50% {
    opacity: 1;
    filter: brightness(1.3);
  }
}

.neon-breathe {
  animation: neon-breathe 4s ease-in-out infinite;
}

/* ========== 玻璃拟态效果 ========== */

/**
 * 玻璃拟态效果 - 基础版
 * 毛玻璃背景 + 边缘高光
 */
.glass-morphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
}

.glass-morphism::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.5) 50%,
    transparent
  );
  pointer-events: none;
}

[data-theme="dark"] .glass-morphism {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/**
 * 玻璃拟态效果 - 轻微
 * 更透明的效果
 */
.glass-morphism-subtle {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .glass-morphism-subtle {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/**
 * 玻璃拟态效果 - 强烈
 * 更明显的模糊和高光
 */
.glass-morphism-strong {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  position: relative;
}

.glass-morphism-strong::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.7) 50%,
    transparent
  );
  pointer-events: none;
}

[data-theme="dark"] .glass-morphism-strong {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

/**
 * 玻璃拟态效果 - 彩色变体（青色）
 */
.glass-morphism-cyan {
  background: rgba(78, 205, 196, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(78, 205, 196, 0.3);
}

[data-theme="dark"] .glass-morphism-cyan {
  background: rgba(78, 205, 196, 0.15);
  border: 1px solid rgba(78, 205, 196, 0.2);
}

/**
 * 玻璃拟态效果 - 彩色变体（粉色）
 */
.glass-morphism-pink {
  background: rgba(255, 107, 157, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 107, 157, 0.3);
}

[data-theme="dark"] .glass-morphism-pink {
  background: rgba(255, 107, 157, 0.15);
  border: 1px solid rgba(255, 107, 157, 0.2);
}

/**
 * 玻璃拟态效果 - 彩色变体（紫色）
 */
.glass-morphism-purple {
  background: rgba(157, 78, 221, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(157, 78, 221, 0.3);
}

[data-theme="dark"] .glass-morphism-purple {
  background: rgba(157, 78, 221, 0.15);
  border: 1px solid rgba(157, 78, 221, 0.2);
}

/**
 * 玻璃边缘高光 - 45度角
 */
.glass-highlight-45 {
  position: relative;
}

.glass-highlight-45::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.3) 0%,
    transparent 50%
  );
  pointer-events: none;
  border-radius: inherit;
}

/**
 * 玻璃边缘高光 - 顶部
 */
.glass-highlight-top {
  position: relative;
}

.glass-highlight-top::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 30%;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.2) 0%,
    transparent 100%
  );
  pointer-events: none;
  border-radius: inherit;
}

/**
 * 玻璃透明度可调变体
 */
.glass-opacity-10 {
  background: rgba(255, 255, 255, 0.1);
}

.glass-opacity-20 {
  background: rgba(255, 255, 255, 0.2);
}

.glass-opacity-30 {
  background: rgba(255, 255, 255, 0.3);
}

[data-theme="dark"] .glass-opacity-10 {
  background: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .glass-opacity-20 {
  background: rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .glass-opacity-30 {
  background: rgba(0, 0, 0, 0.3);
}

/**
 * 玻璃模糊强度可调
 */
.glass-blur-sm {
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

.glass-blur-md {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.glass-blur-lg {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.glass-blur-xl {
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
}

/* ========== 装饰元素库 ========== */

/**
 * 边框装饰 - 复古花纹
 */
/* ========== 玻璃拟态强度控制 ========== */
.glass-intensity-low {
  --glass-opacity: 0.05;
  --glass-blur: 4px;
}

.glass-intensity-medium {
  --glass-opacity: 0.1;
  --glass-blur: 10px;
}

.glass-intensity-high {
  --glass-opacity: 0.2;
  --glass-blur: 20px;
}

/* ========== 装饰性边框修正 ========== */
.border-deco-retro {
  position: relative;
  border: 2px solid var(--pixel-border, currentColor);
}

.border-deco-retro::before,
.border-deco-retro::after {
  content: "";
  position: absolute;
  width: 12px;
  height: 12px;
  background: var(--pixel-border, currentColor);
}

.border-deco-retro::before {
  top: -2px;
  left: -2px;
  clip-path: polygon(0 0, 100% 0, 100% 50%, 50% 50%, 50% 100%, 0 100%);
}

[data-theme="dark"] .border-deco-retro {
  --pixel-border: #ffffff;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
}

.border-deco-retro::after {
  bottom: -2px;
  right: -2px;
  clip-path: polygon(50% 0, 100% 0, 100% 100%, 0 100%, 0 50%, 50% 50%);
}

/**
 * 边框装饰 - 几何切角
 */
.border-deco-geometric {
  position: relative;
  border: 2px solid var(--pixel-border, currentColor);
  clip-path: polygon(
    0 8px,
    8px 0,
    100% 0,
    100% calc(100% - 8px),
    calc(100% - 8px) 100%,
    0 100%
  );
}

[data-theme="dark"] .border-deco-geometric {
  --pixel-border: #f0e6ff;
  box-shadow: 0 0 12px rgba(240, 230, 255, 0.3);
}

/**
 * 边框装饰 - 极简像素
 */
.border-deco-minimal {
  position: relative;
  border: 1px solid var(--pixel-border, currentColor);
}

/**
 * 边框装饰 - 混合架构 (Hybrid)
 */
.border-deco-hybrid {
  position: relative;
  border: 2px solid var(--pixel-border, currentColor);
  box-shadow: 0 0 15px rgba(var(--neon-glow-rgb, 0, 255, 255), 0.3);
}

/**
 * 边框装饰 - 科技电路
 */
.border-deco-tech {
  position: relative;
  border: 2px solid var(--pixel-border, currentColor);
}

[data-theme="dark"] .border-deco-tech {
  --pixel-border: #bffdfd;
  box-shadow: 0 0 15px rgba(237 242 242 / 0.4);
}

.border-deco-tech::before {
  content: "";
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 4px;
  background: var(--pixel-border, currentColor);
}

.border-deco-tech::after {
  content: "";
  position: absolute;
  bottom: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 4px;
  background: var(--pixel-border, currentColor);
}

/**
 * 边框装饰 - 和风纹样
 */
.border-deco-japanese {
  position: relative;
  border: 2px solid var(--pixel-border, currentColor);
  border-image: repeating-linear-gradient(
      45deg,
      var(--pixel-border, currentColor),
      var(--pixel-border, currentColor) 4px,
      transparent 4px,
      transparent 8px
    )
    2;
}

[data-theme="dark"] .border-deco-japanese {
  --pixel-border: #fff0f5;
  box-shadow: 0 0 10px rgba(255, 240, 245, 0.3);
}

/**
 * 角落装饰 - 铆钉
 */
.corner-deco-rivet {
  position: relative;
}

.corner-deco-rivet::before,
.corner-deco-rivet::after,
.corner-deco-rivet .rivet-bl,
.corner-deco-rivet .rivet-br {
  content: "";
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--pixel-border, currentColor);
  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3);
}

.corner-deco-rivet::before {
  top: 4px;
  left: 4px;
}
.corner-deco-rivet::after {
  top: 4px;
  right: 4px;
}

/**
 * 角落装饰 - 能量宝石
 */
.corner-deco-gem::before {
  content: "";
  position: absolute;
  top: -6px;
  right: -6px;
  width: 12px;
  height: 12px;
  background: var(--pixel-border, currentColor);
  transform: rotate(45deg);
  box-shadow: 0 0 10px var(--pixel-border, currentColor);
}

.corner-deco-gem::after {
  content: "";
  position: absolute;
  bottom: -6px;
  left: -6px;
  width: 12px;
  height: 12px;
  background: var(--pixel-border, currentColor);
  transform: rotate(45deg);
  box-shadow: 0 0 10px var(--pixel-border, currentColor);
}

/**
 * 角落装饰 - 发光点
 */
.corner-deco-glow {
  position: relative;
}

.corner-deco-glow::before,
.corner-deco-glow::after {
  content: "";
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: currentColor;
  box-shadow:
    0 0 4px currentColor,
    0 0 8px currentColor;
  animation: corner-glow-pulse 2s ease-in-out infinite;
}

.corner-deco-glow::before {
  top: 4px;
  left: 4px;
}

.corner-deco-glow::after {
  bottom: 4px;
  right: 4px;
  animation-delay: 1s;
}

@keyframes corner-glow-pulse {
  0%,
  100% {
    opacity: 0.6;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/**
 * 分割线 - 实线
 */
.divider-solid {
  height: 2px;
  background: currentColor;
  border: none;
  margin: var(--spacing-md) 0;
}

/**
 * 分割线 - 虚线
 */
.divider-dashed {
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    currentColor,
    currentColor 8px,
    transparent 8px,
    transparent 16px
  );
  border: none;
  margin: var(--spacing-md) 0;
}

/**
 * 分割线 - 点线
 */
.divider-dotted {
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    currentColor,
    currentColor 4px,
    transparent 4px,
    transparent 8px
  );
  border: none;
  margin: var(--spacing-md) 0;
}

/**
 * 分割线 - 装饰线
 */
.divider-decorated {
  position: relative;
  height: 2px;
  background: currentColor;
  border: none;
  margin: var(--spacing-md) 0;
}

.divider-decorated::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 12px;
  height: 12px;
  background: currentColor;
  clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
}

/**
 * 分割线 - 渐变线
 */
.divider-gradient {
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    currentColor 50%,
    transparent
  );
  border: none;
  margin: var(--spacing-md) 0;
}

/**
 * 背景纹理 - 噪点
 */
.texture-noise {
  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=");
  background-size: 300px 300px;
}

/**
 * 背景纹理 - 网格
 */
.texture-grid {
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

[data-theme="dark"] .texture-grid {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
}

/**
 * 背景纹理 - 扫描线
 */
.texture-scanline {
  background-image: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.05) 2px,
    rgba(0, 0, 0, 0.05) 4px
  );
}

[data-theme="dark"] .texture-scanline {
  background-image: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 255, 0.03) 2px,
    rgba(255, 255, 255, 0.03) 4px
  );
}

/**
 * 背景纹理 - 点阵
 */
.texture-dots {
  background-image: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.1) 1px,
    transparent 1px
  );
  background-size: 8px 8px;
}

[data-theme="dark"] .texture-dots {
  background-image: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.1) 1px,
    transparent 1px
  );
}

/**
 * 背景纹理 - 波纹
 */
.texture-wave {
  background-image: repeating-radial-gradient(
    circle at 0 0,
    transparent 0,
    rgba(0, 0, 0, 0.05) 10px,
    transparent 20px
  );
}

[data-theme="dark"] .texture-wave {
  background-image: repeating-radial-gradient(
    circle at 0 0,
    transparent 0,
    rgba(255, 255, 255, 0.05) 10px,
    transparent 20px
  );
}

/* ========== 减少动效支持 ========== */

@media (prefers-reduced-motion: reduce) {
  .scanline-effect::before,
  .noise-grain::before,
  .neon-pulse,
  .neon-pulse-fast,
  .neon-pulse-slow,
  .neon-flicker,
  .neon-flicker-fast,
  .neon-flicker-slow,
  .neon-breathe,
  .corner-deco-glow::before,
  .corner-deco-glow::after {
    animation: none !important;
  }

  .crt-glow-text,
  .crt-glow-text-strong,
  .neon-glow-cyan,
  .neon-glow-pink,
  .neon-glow-purple,
  .neon-glow-gold,
  .neon-glow-green {
    text-shadow: none !important;
  }

  .neon-glow-cyan-box,
  .neon-glow-pink-box,
  .neon-glow-purple-box,
  .neon-glow-gold-box,
  .neon-glow-green-box,
  .neon-glow-subtle-box,
  .neon-glow-medium-box,
  .neon-glow-strong-box {
    box-shadow: none !important;
  }
}

/* ========== 玻璃拟态基础样式更新 ========== */
.glass-morphism,
.glass-morphism-subtle,
.glass-morphism-strong,
.glass-morphism-cyan,
.glass-morphism-pink,
.glass-morphism-purple {
  background: rgba(255, 255, 255, var(--glass-opacity, 0.1));
  backdrop-filter: blur(var(--glass-blur, 10px));
}

.glass-morphism-subtle {
  --glass-opacity: 0.05;
}
.glass-morphism-strong {
  --glass-opacity: 0.15;
}

.glass-morphism-cyan {
  background: rgba(0, 255, 255, var(--glass-opacity, 0.1));
}
.glass-morphism-pink {
  background: rgba(255, 0, 255, var(--glass-opacity, 0.1));
}
.glass-morphism-purple {
  background: rgba(128, 0, 128, var(--glass-opacity, 0.1));
}
